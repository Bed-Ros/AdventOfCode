--- День 5: Очередь печати ---
    Удовлетворенные результатами своих поисков на Церере, отряд ученых предлагает впоследствии просканировать
стопки канцелярских товаров в подвале 17.
    В преддверии Рождества в типографии «Северный полюс» работы больше, чем когда-либо, и пока историки продолжают свои исследования
этого исторически значимого объекта, эльф, работающий на очень знакомом принтере, подзывает вас.
    Эльф, должно быть, узнал тебя, потому что без промедления объяснил, что новые обновления руководства по безопасности
для спуска саней печатаются неправильно. Не обновить руководство по безопасности было бы поистине ужасно,
поэтому ты предлагаешь свои услуги.
    В протоколах безопасности четко указано, что новые страницы руководств по безопасности должны печататься в строго определенном порядке.
Это означает, что если в рамках обновления необходимо напечатать X|Y то номер страницы X должен быть напечатан перед номером Y
    У Эльфа есть как правила порядка страниц, так и страницы, которые нужно создать в каждом обновлении (ваши входные данные для головоломки),
но он не может определить, в правильном ли порядке страницы располагаются в каждом обновлении.

Например:
47|53
97|13
97|61
97|47
75|29
61|13
75|53
29|13
97|29
53|29
61|53
97|53
61|29
47|13
75|47
97|75
47|61
75|61
47|29
75|13
53|13

75,47,61,53,29
97,61,53,29,13
75,29,13
75,97,47,61,53
61,13,29
97,13,75,29,47

    В первом разделе задаются правила порядка страниц, по одному на строку. Первое правило 47|53 означает,
что если обновление включает как страницу 47, так и страницу 53, то страница 47 должна быть напечатана в какой-то момент
перед страницей 53. (Страница 47 не обязательно должна располагаться непосредственно перед страницей 53;
между ними могут находиться и другие страницы.)
    Во втором разделе указаны номера страниц каждого обновления. Поскольку большинство руководств по безопасности различаются,
страницы, необходимые для обновлений, также различаются. Первое обновление, 75,47,61,53,29, означает,
что обновление состоит из страниц с номерами 75, 47, 61, 53 и 29.
    Чтобы как можно скорее запустить принтеры, начните с определения того, какие обновления уже установлены в правильном порядке.

В приведенном выше примере первое обновление (75,47,61,53,29) выполнено в правильном порядке:
    75 правильно стоит первой, потому что есть правила, по которым каждая следующая страница располагается после нее: 75|47, 75|61, 75|53, и 75|29.
    47 правильно является второй, потому что 75 должна быть перед ней (75|47), а каждая вторая страница должна быть после нее согласно 47|61, 47|53, и 47|29.
    61 правильно находится посередине, потому что 75 и 47 находятся перед ним (75|61 и 47|61), а 53 и 29 — после него (61|53 и 61|29).
    53 правильно стоит на четвертом месте, поскольку находится перед страницей номер 29 (53|29).
    29 осталась единственная страница, поэтому она, по сути, последняя.
    Поскольку первое обновление не включает некоторые номера страниц, правила упорядочивания, включающие эти отсутствующие номера страниц, игнорируются.

    Второе и третье обновления также расположены в правильном порядке согласно правилам. Как и первое обновление,
они не включают номера всех страниц, поэтому применяются лишь некоторые правила упорядочивания — в каждом обновлении правила упорядочивания,
связанные с пропущенными номерами страниц, не применяются.
    Четвертое обновление 75,97,47,61,53, выполнено в неправильном порядке: оно вывело бы 75 перед 97, что нарушает правило 97|75.
    Пятое обновление 61,13,29, также не имеет правильного порядка, поскольку нарушает правило 29|13.
    Последнее обновление 97,13,75,29,47, имеет неправильный порядок из-за нарушения нескольких правил.

    По какой-то причине эльфам также нужно знать номер средней страницы каждого печатаемого обновления.
Поскольку сейчас вы печатаете только обновления в правильном порядке, вам нужно будет найти номер средней страницы каждого обновления
в правильном порядке. В приведенном выше примере обновления в правильном порядке:
75,47,61,53,29
97,61,53,29,13
75,29,13

    Номера страниц в середине этих страниц: 61, 53, и 29 соответственно. Сложение этих номеров страниц даёт 143.
    Конечно, вам нужно быть осторожным: реальный список правил упорядочивания страниц больше и сложнее, чем в приведенном выше примере.

    Определите, какие обновления уже расположены в правильном порядке. Сколько получится,
если сложить номера средних страниц этих обновлений в правильном порядке?

--- Часть вторая ---

    Пока эльфы занимаются печатью обновлений в правильном порядке, у вас есть немного времени, чтобы исправить остальные.
    Для каждого из неправильно упорядоченных обновлений используйте правила упорядочивания страниц,
чтобы расположить их номера в правильном порядке. Для приведенного выше примера ниже приведены три неправильно упорядоченных обновления
и их правильный порядок:
    75,97,47,61,53 становится 97,75,47,61,53
    61,13,29 становится 61,29,13
    97,13,75,29,47 становится 97,75,47,29,13

    После того как мы взяли только неправильно упорядоченные обновления и упорядочили их правильно,
номера их средних страниц будут 47, 29, и 47. Сложение этих чисел даёт 123.

    Найдите обновления, которые расположены в неправильном порядке. Что получится, если сложить номера средних страниц после того,
как вы правильно упорядочите только эти обновления?